{"version":3,"file":"component---src-pages-index-jsx-2b43a9557a279fdff47b.js","mappings":"sNAwBA,MAlBmBA,IAAgB,IAAf,MAAEC,GAAOD,EAC3B,MAAME,GAAMC,EAAAA,EAAAA,UACNC,ECJD,SAAsBF,GAC3B,MAAM,EAACG,EAAe,EAACC,IAAmBC,EAAAA,EAAAA,WAAS,GAanD,OAXAC,EAAAA,EAAAA,YAAU,KACS,IAAIC,sBACnBT,IAAA,IAAEU,GAAMV,EAAA,OAAKM,EAAgBI,EAAML,eAAe,GAClD,CACEM,WAAY,SAIPC,QAAQV,EAAIW,QAAQ,GAC5B,CAACX,IAEGG,CACT,CDXoBS,CAAaZ,GAC/B,OACEa,EAAAA,cAACC,EAAAA,EAAG,CAACC,UAAU,QAAQC,GAAI,SAASjB,KAClCc,EAAAA,cAACI,EAAAA,EAAI,CAACF,UAAU,YAAYf,IAAKA,GAC9BE,GACCW,EAAAA,cAAA,UACEK,MAAM,eACNH,UAAU,QACVI,IAAK,yCAAyCpB,OAIhD,EEcV,MA1BeqB,KACb,MAAM,EAACC,EAAI,EAACC,IAAUjB,EAAAA,EAAAA,UAAS,KAC/BC,EAAAA,EAAAA,YAAU,KACOiB,WACb,MAAMC,QAAc,mCACpBF,EAAOG,MAAMC,KAAKF,GAAO,EAE3BG,EAAQ,GACP,IACH,MAEMC,GAAQC,EAAAA,EAAAA,KACd,OACEhB,EAAAA,cAACiB,EAAAA,EAAK,CACJf,UAAU,SACVC,GAAG,SACHe,MAAO,CAAEC,WAAYJ,EAAMK,KAAKC,QAAQC,UAAUC,MAClDC,UAAW,IAEVhB,EAAIiB,KAAKtB,GACRH,EAAAA,cAAC0B,EAAU,CAACxC,MAAOiB,MAEf,EChBZ,MARkBwB,IAEd3B,EAAAA,cAAC4B,EAAAA,EAAW,KACV5B,EAAAA,cAACO,EAAM,M","sources":["webpack://jstro.io/./src/components/PieceEmbed.jsx","webpack://jstro.io/./src/hooks/Observer.js","webpack://jstro.io/./src/components/Pieces.jsx","webpack://jstro.io/./src/pages/index.jsx"],"sourcesContent":["import { Box, Card } from \"@mui/material\"\r\nimport React, { useRef, useState } from \"react\"\r\nimport { useIsVisible } from \"../hooks/Observer\"\r\n\r\nimport \"../styles/Embed.scss\"\r\n\r\nconst PieceEmbed = ({ piece }) => {\r\n  const ref = useRef()\r\n  const isVisible = useIsVisible(ref)\r\n  return (\r\n    <Box className=\"Piece\" id={`piece-${piece}`}>\r\n      <Card className=\"EmbedCard\" ref={ref}>\r\n        {isVisible && (\r\n          <iframe\r\n            title=\"p5.js Sketch\"\r\n            className=\"Embed\"\r\n            src={`https://editor.p5js.org/jstro.io/full/${piece}`}\r\n          ></iframe>\r\n        )}\r\n      </Card>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default PieceEmbed\r\n","// Credit: https://dev.to/jmalvarez/check-if-an-element-is-visible-with-react-hooks-27h8\r\n\r\nimport { useEffect, useState } from \"react\"\r\n\r\nexport function useIsVisible(ref) {\r\n  const [isIntersecting, setIntersecting] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => setIntersecting(entry.isIntersecting),\r\n      {\r\n        rootMargin: \"-1px\",\r\n      }\r\n    )\r\n\r\n    observer.observe(ref.current)\r\n  }, [ref])\r\n\r\n  return isIntersecting\r\n}\r\n","import { Paper, useColorScheme, useTheme } from \"@mui/material\"\r\nimport React from \"react\"\r\nimport { useState, useEffect } from \"react\"\r\nimport PieceEmbed from \"./PieceEmbed\"\r\n\r\nimport \"../styles/Pieces.scss\"\r\n\r\nconst pageSize = 4\r\nconst Pieces = () => {\r\n  const [ids, setIds] = useState([])\r\n  useEffect(() => {\r\n    const effect = async () => {\r\n      const p5Ids = await import(\"/static/p5ids.json\")\r\n      setIds(Array.from(p5Ids))\r\n    }\r\n    effect()\r\n  }, [])\r\n  const scrollToPiece = (piece) =>\r\n    document.querySelector(`piece-${piece}`).scrollIntoView()\r\n  const theme = useTheme()\r\n  return (\r\n    <Paper\r\n      className=\"Pieces\"\r\n      id=\"pieces\"\r\n      style={{ background: theme.vars.palette.secondary.main }}\r\n      elevation={24}\r\n    >\r\n      {ids.map((id) => (\r\n        <PieceEmbed piece={id} />\r\n      ))}\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Pieces\r\n","import React from \"react\"\r\n\r\nimport \"../styles/index.scss\"\r\nimport PageWrapper from \"../components/PageWrapper\"\r\nimport Pieces from \"../components/Pieces\"\r\n\r\nconst IndexPage = () => {\r\n  return (\r\n    <PageWrapper>\r\n      <Pieces />\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n"],"names":["_ref","piece","ref","useRef","isVisible","isIntersecting","setIntersecting","useState","useEffect","IntersectionObserver","entry","rootMargin","observe","current","useIsVisible","React","Box","className","id","Card","title","src","Pieces","ids","setIds","async","p5Ids","Array","from","effect","theme","useTheme","Paper","style","background","vars","palette","secondary","main","elevation","map","PieceEmbed","IndexPage","PageWrapper"],"sourceRoot":""}